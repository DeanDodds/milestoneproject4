# North Yeast Brew

northyeastbrewing.co.uk is to promote  a new micro-brew pub launching in Newcastle called North Yeast Brewing. The website the main purpose inform potential costumers of the brewery, 
promote the Tap room, highlight the selection of craft beer available and promote Events the company will be attending and hosting. ​

<a href="https://north-yeast-brewing.herokuapp.com/">Go to live website.....</a>

<a href="https://north-yeast-brewing.herokuapp.com/">![live website preview]()</a>

# Table of contents

1. [User Experience (UX)](#user-experience)
   - [User Stories](#user-stories)
2. [Design](#design)
   - [Typography](#typography)
   - [Color References](#colors)
   - [Wireframes](#wireframes)
   - [Data Model](#data-model)
   - [Imagery](#imagery)
3. [Features](#features) 
   - [Future Features](#future-features)
4. [Technologies Used](#technologies)
   - [Langagues Used](#langagues)
   - [Frameworks, Libraries and Programs used](#frameworks)
   - [Data Modling](#data)
5. [Deployment](#deployment)
   - [Making a Local Clone](#clone)
   - [Forking the GitHub Repository](#fork)
6. [Credis](#credits)
   - [Images](#images)
   - [Code](#code)
7. [Acknowledgements](#acknowledgements)

# User Experience (UX) <a id="user-experience"></a>

## User Stories 

|![User Stories pdf](/designdocumentation/screenshots/updateduser.png)
|:--:|
|<br>User stories</br>|

# Design <a id=design></a>

## Typography

- Helvetica is the main font used for all headers with a Sans Serif fallback.
- Arial is the font used for the main text area of the web appliction with a Sans Serif fallback.

## Colour theme

| Color Chart 1     | Hex                                                                |
| ----------------- | ------------------------------------------------------------------ |
| black| ![#142126](https://via.placeholder.com/10/142126?text=+) #142126 |
| burlywood | ![#f2c879](https://via.placeholder.com/10/f2c879?text=+) #F2C879 |
| peru | ![#D99036](https://via.placeholder.com/10/d99036?text=+) #D99036 |
| chocolate| ![#D94B2B](https://via.placeholder.com/10/d94b2b?text=+) #D94B2B |
| brown | ![#8C2323](https://via.placeholder.com/10/8c2323?text=+) #8C2323 |

| Color Chart 2     | Hex                                                                |
| ----------------- | ------------------------------------------------------------------ |
| maroon | ![#591824](https://via.placeholder.com/10/591824?text=+) #591824 |
| black | ![#030F26](https://via.placeholder.com/10/030F26?text=+) #030F26 |
| lightgray | ![#D5D9BA](https://via.placeholder.com/10/d5D9BA?text=+) #D5D9BA |
| goldenrod | ![#F29D35](https://via.placeholder.com/10/f29d35?text=+) #F29D35 |
| chocolate| ![#D95525](https://via.placeholder.com/10/d95525?text=+) #D95525 |

## Wireframes <a id="wireframes"></a>

The wireframes for the website were created on Drawio, there is a desktop, tablet and mobile wireframe for this website

### Home Page 


![Home page wireframe](/designdocumentation/wireframes/homepage.png)

### Product Page 


![Product page wireframe](/designdocumentation/wireframes/beerpage.png)

### Product Details Page 


![Product Details page wireframe](/designdocumentation/wireframes/poductspage.png)

### Story Page 

![Story page wireframe](/designdocumentation/wireframes/ourstory.png)

### Taproom Page 

![Taprrom page wireframe](/designdocumentation/wireframes/taprrom.png)

### Events Page 

![Events page wireframe](/designdocumentation/wireframes/events.png)

### Contact Page 

![Contact page wireframe](/designdocumentation/wireframes/contactus.png)

## Data Model 

I have modeled my database on a relation-relational database system. I have used the POSTGRES. I have used the following mapping 

![Data model](/designdocumentation/databasedisign/northyeastbrewingredatabase.png)

## Logo Design 

I have designed to versions of the North Yeast Brewing logo a white version for contrast over dark backgrounds and a black version for contrast over light backgrounds.
| ![Black version of the logo](/designdocumentation/images/black%20logo.svg) |
|:--:|
| <b>Black version of the logo</b>|

| ![White version of the logo](/designdocumentation/images/white%20logo.svg) |
|:--:|
| <b>White version of the logo]</b>|

## Imagery

favicon containg the black version of the logo

| ![North Yeast Brewing favicon](/designdocumentation/images/black-logo.ico) |
|:--:|
| <b>North Yeast Brewing favicon</b>|

### Homepage

- 1 v Hero Image

| ![Hero Image](/designdocumentation/images/banner-1.jpg) |
|:--:|
| <b>Hero Image</b>|

| ![Products image](/designdocumentation/images/index-1.png) |
|:--:|
| <b>Products image</b>|


| ![Events](/designdocumentation/images/index-2.png) |
|:--:|
| <b>Events image</b>|

### Our Story Page 

- 1 Hero Image

|![Hero Image](/designdocumentation/images/image-1.png)|
|:--:|
| <b>Hero Image</b>|

3 x Circle images 

| ![Water image](/designdocumentation/images/water1.jpg)|![Wheat image](/designdocumentation/images/wheat.jpg)|![Hops image](/designdocumentation/images/brew.png)|
|:--:|:--:|:--:|
| <b>Water Image</b>|<b>Wheat Image</b>|<b>Hops Image</b>|

### Product page (Beers)

- 1 v Hero Image

| ![Hero Image](/designdocumentation/images/banner3.png) |
|:--:|
| <b>Hero Image</b>|

- 12 Product images 

| ![example product image](/designdocumentation/images/PA2.png) |
|:--:|
|<b>example product image</b>|

- 6 icon images

| ![Style](/designdocumentation/images/istlye.png)|![Malt](/designdocumentation/images/igrain.png)|
|:--:|:--:|
|<b>Style</b>|<b>Malt</b>|

| ![Pecentage](/designdocumentation/images/iPERCENTAGE.png)|![Hops](/designdocumentation/images/ihop.png)|
|:--:|:--:|
|<b>Pecentage</b>|<b>Hops</b>|

| ![IBU](/designdocumentation/images/ibrew.png)|![OG](/designdocumentation/images/iog%20(2).png)|
|:--:|:--:|
| <b>IBU</b>|<b>OG</b>|


### Product Details Page 

- 1 v Hero Image

| ![Product Hero Image](/designdocumentation/images/Product-banner-PA1.png) |
|:--:|
| <b>Product Hero Image</b>|

- 12 Product images 

| ![example product image](/designdocumentation/images/PA1.png) |
|:--:|
| <b>example product image</b>|

### Taproom page 

- 1 v Hero Image

| ![Product Hero Image](/designdocumentation/images/banner3.png) |
|:--:|
| <b>Product Hero Image</b>|

- 12 Product images 

| ![example product image](/designdocumentation/images/PB3.png) |
|:--:|
| <b>example product image</b>|

### Events page 

- 1 v Hero Image

| ![Hero Image](/designdocumentation/images/banner-5.png) |
|:--:|
| <b>Hero Image</b>|


### Contact Page 

- 1 v Hero Image

| ![Hero Image](/designdocumentation/images/banner-6.png) |
|:--:|
| <b>Hero Image</b>|



# 3.Features <a id="features"></a>

## User features


### Responsiveness

- Responsiveness on all device sizes.


### Navigation Bar 
All pages have a collapsible navigation bar, this makes it fully responsive on all devices.


| ![screenshot of laptop navbar](/designdocumentation/screenshots/features/navbar.png) |
|:--:|
| <b>on smaller screens</b>|

| ![screenshot of medium navbar](/designdocumentation/screenshots/features/navmedium.png) |
|:--:|
| <b>on medium screens</b>|

| ![screenshot of smaller navbar](/designdocumentation/screenshots/features/navsmal.png) |
|:--:|
| <b>on smaller screens</b>|

### Footer

All pages have a responsive footer that contains links to social media and a sign up for the newletter form.

| ![screenshot of smaller footer](/designdocumentation/screenshots/features/footer.png) |
|:--:|
| <b>on smaller footer</b>|

| ![screenshot of laptop footer](/designdocumentation/screenshots/features/footersmall.png) |
|:--:|
| <b>on laptop footer</b>|


### Sign up page 

a form to allow users to sign up for an accout 
| ![screenshot of the sign up page](/designdocumentation/screenshots/manualtesting/registerpage.png) |
|:--:|
| <b>Of sign up form</b>|

### Login Page 

a form to allow users to log in to thier accout
| ![screenshot of the login form](/designdocumentation/screenshots/manualtesting/loginpage.png) |
|:--:|
| <b>Login form</b>|

### Logout option
Log out button in the navbar 
| ![screenshot of the login form](/designdocumentation/screenshots/features/logoutpage.png) |
|:--:|
| <b>Logout form</b>|

### Search Bar
Users can search for product they would like to see 
| ![screenshot of the search bar](/designdocumentation/screenshots/features/navbar.png) |
|:--:|
| <b>Search bar</b>|

### Shopping Cart
Users can add products too and view their shopping cart
| ![screenshot of the shopping cart](/designdocumentation/screenshots/manualtesting/cart.png) |
|:--:|
| <b>Shopping cart</b>|

### Secure Purchasing
Users can pay for their shopping using Stripe secure payment 
| ![screenshot of the stripe payment form](/designdocumentation/screenshots/features/checkout.png) |
|:--:|
| <b>stripe payment form</b>|

### Taproom Booking
Users can book tables in the Taproom
| ![screenshot of the taproom booking form](/designdocumentation/screenshots/manualtesting/taproomform.png) |
|:--:|
| <b>Taproom booking form</b>|


### Brewery Tour Booking
Users can book tables in the a brewery tour
| ![screenshot of the brewery tour booking form](/designdocumentation/screenshots/manualtesting/brewtourform.png) |
|:--:|
| <b>Brewery tour booking form</b>|


### Contact Form 
Users can get in contact via form on the contact page
| ![screenshot of the contact form](/designdocumentation/screenshots/manualtesting/contactuslinks.png) |
|:--:|
| <b>Contact form</b>|

## Admin Features

## Add products
Admin can add products to the website 
| ![screenshot of the add product form](/designdocumentation/screenshots/manualtesting/productmanagement.png) |
|:--:|
| <b>Add product form</b>|

## add Events
 Admin can add Events to the website 
| ![screenshot of the add events form](/designdocumentation/screenshots/manualtesting/eventsmanagement.png) |
|:--:|
| <b>Add events form</b>|

## View bookings 
Admin can view bookings made by users 
| ![screenshot of the Booking management Page](/designdocumentation/screenshots/manualtesting/managebookingpage.png) |
|:--:|
| <b>Booking mangement page</b>|

## Send Newsletters   
Admin can send Newsletters and view users who have signed up to the sign up to recive them
| ![screenshot of the send newsletter page](/designdocumentation/screenshots/features/sendnewa.png) |
|:--:|
| <b>send newsletter page</b>|

| ![screenshot of the sign up list](/designdocumentation/screenshots/manualtesting/mailinglist.png) |
|:--:|
| <b>Sign up list</b>|

## Defensive Programing
In order to protect my users data I have used some defensive programing. My application protects the data through:

Python functions that check:
to see if the user is signed in using the built in django feature @login_required
if a user is editing data. The function will check that the user who is signed in is a super in the view using 
```
if not request.user.is_superuser:
```
in the view 

These steps help prevent the use of brute force.

# Future Features Ideas <a id="future-features"></a>

- Addind sizes so cases of beer can be added at a time 
- Reviews app so users can leave reviews on products 

# 4. Technologies Used <a id="technologies"></a>

## Langagues Used <a id="langagues"></a>

- <a href="https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/HTML_basics">HTML5</a>
- <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a>
- <a href="https://www.python.org/">Python</a>
- <a href="https://www.djangoproject.com/">Django</a>
- <a href="https://www.javascript.com/">JavaScript</a>
-<a href="https://www.jetbrains.com/datagrip/features/postgresql/">PostgreSQL</a>

# 4. Deployment <a id="deployment"></a>

# Github <a id=pages></a>

## Making a local clone <A id="clone"></a>

You can clone a Github repository to your local computer by following these steps:

1. On GitHub.com, navigate the repository page
2. Above the list of files, click on the Code dropdown menu
3. Select the download zip file 
4. Once the files have downloaded you can extract them form the zip file and run them on your local environment 

You can see more information on making local clones [here](https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository#cloning-a-repository-to-github-desktop)

## Forking the GitHub Repository <a id="fork"></a>

Forking a Github repositary allows you to make a copy that you can work on without effecting the original repository. You can fork a repository by:

1. On GitHub.com, navigate the repository page of the repository you would like to fork
2. On the top right hand side of the page locate click fork button 
3. A copy of this resository should now be in your own repositories


## Frameworks, Libraries and Programs used <a id="frameworks"></a>

- <a href="https://getbootstrap.com/docs/5.2/layout/containers/">Bootstrap:</a>
  Used for responsiveness and styling of the website.
- <a href="https://swiperjs.com/demos#infinite-loop-with-slides-per-group">SwiperJs</a>
  Used for card carosel slider
- <a href="https://fontawesome.com/">Font Awesome:</a>
  Used to import icons that used across every page of the website.
- <a href="https://fonts.google.com/">Google Fonts:</a>
  Used to import Montserrat and Lora fonts.
- <a href="https://gitpod.io/">Gitpod: </a>
  Git was used for version control by utilizing the Gitpod terminal to commit to Git and Push to GitHub.
- <a href="https://github.com/">GitHub:</a>
  Used to store the projects code once pushed from Gitpot.
- <a href="https://app.diagrams.net/">Drawio.net:</a>
  Used to create all wireframes.
- <a href="http://https://randomkeygen.com/">Randomkeygen:</a>
  Used to generate secure passwords.
- <a href="https://dashboard.heroku.com/apps">HEROKU:</a> Used to deploy the python app.
- <a href="https://www.adobe.com/uk/creativecloud/renew/resubscribe-cci.html?mv=search&mv=search&sdid=NYTLQZ47&ef_id=Cj0KCQjwnNyUBhCZARIsAI9AYlHcXM-sl-7gsfI6_d9t1A_9c-TotGjeRBMhPA9HrRKAisCC5Ayyv28aApUjEALw_wcB:G:s&s_kwcid=AL!3085!3!436521415410!e!!g!!photoshop!10105625998!106997352408&gclid=Cj0KCQjwnNyUBhCZARIsAI9AYlHcXM-sl-7gsfI6_d9t1A_9c-TotGjeRBMhPA9HrRKAisCC5Ayyv28aApUjEALw_wcB">Photoshop</a> Used to edit photos and create content. 
- <a href="https://www.adobe.com/uk/creativecloud/renew/resubscribe-cci.html?mv=search&mv=search&sdid=NYTLQZ47&ef_id=Cj0KCQjwnNyUBhCZARIsAI9AYlHcXM-sl-7gsfI6_d9t1A_9c-TotGjeRBMhPA9HrRKAisCC5Ayyv28aApUjEALw_wcB:G:s&s_kwcid=AL!3085!3!436521415410!e!!g!!photoshop!10105625998!106997352408&gclid=Cj0KCQjwnNyUBhCZARIsAI9AYlHcXM-sl-7gsfI6_d9t1A_9c-TotGjeRBMhPA9HrRKAisCC5Ayyv28aApUjEALw_wcB">Adobe Illustrator</a> Used to create Logo image. 
- <a href="https://tinypng.com/">TinyPNG</a> Used to compress images. 

# 4. Deployment <a id="deployment"></a>

## Github <a id=pages></a>

### Making a local clone <A id="clone"></a>

You can clone a Github repository to your local computer by following these steps:

1. On GitHub.com, navigate the repository page
2. Above the list of files, click on the Code dropdown menu
3. Select the download zip file 
4. Once the files have downloaded you can extract them form the zip file and run them on your local environment 

You can see more information on making local clones [here](https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository#cloning-a-repository-to-github-desktop)

### Forking the GitHub Repository <a id="fork"></a>

Forking a Github repositary allows you to make a copy that you can work on without effecting the original repository. You can fork a repository by:

1. On GitHub.com, navigate the repository page of the repository you would like to fork
2. On the top right hand side of the page locate click fork button 
3. A copy of this resository should now be in your own repositories

### Deploying Locally 

## Environment variables and app set up

In order to connect you to keep your Sectret keys safe you must set up a env.py file. This is a  file containing key value pairs of all the environment variables required to configure you application. This is then linked into you settings.py file in the main app of yor project. 

## Deployment to a local server 

In order to deploy your website locally you can deploy it on a local server for testing purposes. To run your application on the local server you must install all dependencies using the 
```
pip3 install -r requirements.txt
```
command and then to run you django application. use the 
```
python3 manage.py runserver
```
command.

This will deploy the app on a local port 8080. You can stop the app running by pressing control and c on mac or ctrl and c on windows. Close all ports by typing:
```
pkill -9 python3 
```

## Deploying a your Live Django app through HEROKU

Before you can set up a HEROKU app you must set up the following files:
- requirements.txt file - this tells HEROKU what dependencies are needed 
- a Procfile file - this specifies the commands that are executed by the app on startup
in you github repository.
- Ensure the project has been fully committed and pushed to git

now you can go to the heroku website and begain the deployment 
1. To begin with HEROKU you must first create an account on the <a href="https://id.heroku.com/login">HEROKU website</a>
2. Once logged in, create a new app. When seleting the app name, keep in mind that it must be unique. Then select your region and create app.
3. Then select the deploy tab and scoll to the deployment method section. You can connect your app by either the HEROKU CLI or through Github. I selected GitHuB so I can use the automatic deployment feature 
4. Then go to the settings tab and set up you Congfi Vars. These variables will be the same as the ones in you env.py file 
5. You can then go back to the deploy tab and select automatic deployment 
6. Your site is now live    
------

## Amazon Web Services S3
Amazon Web Services is a cloud computing platform that provides customers with a wide array of cloud services. 
To use the s3 service you need to follow these steps 
1. Go to the Amazon Web Services website <a href="https://aws.amazon.com/free/?trk=d5254134-67ca-4a35-91cc-77868c97eedd&sc_channel=ps&s_kwcid=AL!4422!3!433803620861!e!!g!!amazon%20web%20services&ef_id=Cj0KCQjwxIOXBhCrARIsAL1QFCaSWuZ2Ip9G8w-RTPAts4p5YEAtLgD2lEqRyFY3ftmF03pJkxVvHNQaAldNEALw_wcB:G:s&s_kwcid=AL!4422!3!433803620861!e!!g!!amazon%20web%20services&all-free-tier.sort-by=item.additionalFields.SortRank&all-free-tier.sort-order=asc&awsf.Free%20Tier%20Types=*all&awsf.Free%20Tier%20Categories=*all">here</a> and create an account 
2. Then login and in the search bar find S3
3. Create a new Bucket within the S3 application with an appropriate name. When creating a buckeT the Object Ownership setting needs the ACLs enabled option checked.
4. The S3 Bucket can now be configured using the following <a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/HostingWebsiteOnS3Setup.html">documentation</a>

Once you bucket is created we need to add a user to access it in the Idenity Access Management(IAM)

## Amazon IAM 
1. In the search bar find IAM
2. Click User Groups on the side menu and click Create New Group and call it appropriate name and click on Create Group
3. Click on Policies and then click on Create Policies
4. In the JSON tab select 'import managed policy' which will let us import the 'S3 Full Access Policy'  
 - get the bucket ARN from the bucket policy page in S3 and paste it under Resource as a list, first,  ARN as it is and the second time with /* at the end to add to allow access for all files and folders in the bucket.
5. Click review policy, give it a name and description and click Create Policy.
To attach the policy to the group we created click on User Groups, select the group name then click Attach Policy button, search policy created, select it and click Attach Policy.
6. Now create a user to put in the group: click Users in the sidebar menu.
7. Create the user with an appropriate name, select Programmatic Access and select Next.
From the list provided select the group name and click Create User.
8. Click on 'Download .csv'. You must keep this safe as contains the keys to connect to you django .

## Connecting AWS to Django

Now connect the AWS to django

1. install django storages and boto3. we can do this using the commands

```
pip3 install boto3
pip3 install django-storages
```
3. add 'storages' to your installed apps inside your settings.py file
4.  In the root directory of your project create a file called 'custom_storages.py'
5.  at the top of this files add 
```
from django.conf import settings
from storages.backends.s3boto3 import S3Boto3Storage

class StaticStorage(S3Boto3Storage):
    location = settings.STATICFILES_LOCATION

class MediaStorage(S3Boto3Storage):
    location = settings.MEDIAFILES_LOCATION
```
6. now add the following settings in to your settings.py file
```
if 'USE_AWS' in os.environ:
    # Cache control
    AWS_S3_OBJECT_PARAMETERS = {
        'Expires': 'Thu, 31 Dec 2099 20:00:00 GMT',
        'CacheControl': 'max-age=94608000',
    }

    # Bucket Config
    AWS_STORAGE_BUCKET_NAME = os.environ.get('AWS_STORAGE_BUCKET_NAME',)
    AWS_S3_REGION_NAME = os.environ.get('AWS_S3_REGION_NAME')
    AWS_ACCESS_KEY_ID = os.environ.get('AWS_ACCESS_KEY_ID')
    AWS_SECRET_ACCESS_KEY = os.environ.get('AWS_SECRET_ACCESS_KEY')
    AWS_S3_CUSTOM_DOMAIN = f'{AWS_STORAGE_BUCKET_NAME}.s3.amazonaws.com'

    STATICFILES_STORAGE = 'custom_storages.StaticStorage'
    STATICFILES_LOCATION = 'static'
    DEFAULT_FILE_STORAGE = 'custom_storages.MediaStorage'
    MEDIAFILES_LOCATION = 'media'

    # Override static and media URLs in production
    STATIC_URL = f'https://{AWS_S3_CUSTOM_DOMAIN}/{STATICFILES_LOCATION}/'
    MEDIA_URL = f'https://{AWS_S3_CUSTOM_DOMAIN}/{MEDIAFILES_LOCATION}/'
```
7.  Go to Heroku and add the the vars from the csv file to your config vars.
8.  go to gitpod and in settings.py file and under the if statement above add
```
AWS_S3_CUSTOM_DOMAIN = f'{AWS_STORAGE_BUCKET_NAME}.s3.amazonaws.com'
```
9. Go to you S3 bucket , and 'Create folder'. Name the folder 'media' and click 'Save'.
10. Inside the new media folder you just created, click 'Upload', 'Add files', and then select all the images that you are using on your site.
11. Under 'Permissions' select the option 'Grant public-read access' and click upload.

The django website should now be connected to you AS bucket 

# Credits 

## images 

- Index page hero image - <a href="https://stock.adobe.com/uk/images/draught-beer-in-glasses/229883213?prev_url=detail">By luka mervič: Adobe Stock</a>
- index page events image <a href="https://stock.adobe.com/uk/Library/urn:aaid:sc:EU:738b8d93-a23a-48ba-b71a-e9e00c7f0e4b?asset_id=118466593">By Syda Productions: Adobe Stock</a>
- Story page hero image - <a href="https://stock.adobe.com/uk/search?filters%5Bcontent_type%3Aphoto%5D=1&filters%5Bcontent_type%3Aillustration%5D=1&filters%5Bcontent_type%3Azip_vector%5D=1&filters%5Bcontent_type%3Avideo%5D=1&filters%5Bcontent_type%3Atemplate%5D=1&filters%5Bcontent_type%3A3d%5D=1&filters%5Bcontent_type%3Aimage%5D=1&k=home+brew&order=relevance&safe_search=1&limit=100&search_page=1&search_type=usertyped&acp=&aco=home+brew&get_facets=0&asset_id=187479821">By luka mervič: Adobe Stock</a>
- Beer page hero - <a href="https://www.pexels.com/photo/red-and-white-craft-lighted-signage-707408/">Photo by Tim Gouw: Pexels</a>
- products page and our story page hops image <a href="https://stock.adobe.com/uk/Library/urn:aaid:sc:EU:738b8d93-a23a-48ba-b71a-e9e00c7f0e4b?asset_id=199774568">By fedorovacz: Adobe Stock</a>

## Code
- Ecommerce code from the Boutique Abo tutorial 